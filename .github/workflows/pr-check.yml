name: PR Compliance

on:
  pull_request:
    types: [opened, edited, synchronize, reopened]

jobs:
  check-description:
    runs-on: ubuntu-latest
    steps:
      - name: Check for Screenshot or Output
        uses: actions/github-script@v6
        with:
          script: |
            const body = context.payload.pull_request.body || "";
            // Look for image extensions or markdown image syntax
            const hasImage = /!\[.*?\]\(.*?\)|<img|(\.png|\.jpg|\.jpeg|\.gif)/i.test(body);
            // Look for code blocks (proof of terminal output)
            const hasCodeBlock = /```[\s\S]*?```/.test(body);
            
            if (!hasImage && !hasCodeBlock) {
               core.setFailed("PR Rejected: You must include a screenshot or terminal output proving your code works. Please edit the PR description.");
            } else {
               console.log("Proof of work found.");
            }